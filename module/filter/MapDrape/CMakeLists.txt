vistle_find_package(PROJ)
if(NOT PROJ_FOUND)
    return()
endif()

set(HEADERS MapDrape.h)
set(SOURCES MapDrape.cpp)

add_module(MapDrape "map coordinates and drape to height field" ${SOURCES} ${HEADERS})
target_compile_definitions(MapDrape PRIVATE MAPDRAPE)
if(PROJ_API)
    target_compile_definitions(MapDrape PRIVATE USE_PROJ_API)
    target_compile_definitions(MapDrape PRIVATE ACCEPT_USE_OF_DEPRECATED_PROJ_API_H)
endif()
target_include_directories(MapDrape PRIVATE SYSTEM ${PROJ_INCLUDE_DIRS})
target_link_libraries(MapDrape PRIVATE ${PROJ_LIBRARIES})
